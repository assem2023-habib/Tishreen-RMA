# نظام إدارة الطرود والشحن - RMA Gradiation Project

## نظرة عامة

نظام إدارة الطرود والشحن هو تطبيق ويب متكامل مبني على Laravel 12 مع Filament Admin Panel، يوفر حلولاً شاملة لإدارة عمليات الشحن والطرود. يدعم النظام المستخدمين المسجلين والضيوف، مع إمكانيات تتبع متقدمة ونظام إدارة شامل.

## 🚀 المزايا الرئيسية

### 📦 إدارة الطرود
- **إنشاء الطرود**: دعم للمستخدمين المسجلين والضيوف
- **تتبع الطرود**: نظام تتبع شامل مع أرقام تتبع فريدة
- **حالات متعددة**: Pending, Confirmed, In Transit, Ready for Pickup, Delivered, Failed, Returned, Canceled
- **تسعير ذكي**: نظام تسعير تلقائي بناءً على الوزن والسياسات
- **تاريخ الطرود**: تتبع كامل لتغييرات حالة الطرود

### 👥 إدارة المستخدمين
- **مستخدمون مسجلون**: نظام تسجيل دخول آمن مع Laravel Passport
- **مستخدمون ضيوف**: إمكانية إنشاء طرود بدون تسجيل
- **أدوار وصلاحيات**: نظام أدوار متقدم (Super Admin, Employee)
- **تقييد المستخدمين**: إمكانية حظر أو تجميد الحسابات
- **تحقق البريد الإلكتروني**: نظام OTP للتحقق من البريد الإلكتروني

### 🏢 إدارة الفروع والمسارات
- **إدارة الفروع**: إضافة وتعديل الفروع مع الموقع الجغرافي
- **مسارات الشحن**: تحديد مسارات بين الفروع
- **أيام العمل**: جدولة أيام عمل الفروع
- **المواقع الجغرافية**: دعم الإحداثيات (Latitude/Longitude)

### 📅 نظام المواعيد
- **حجز المواعيد**: نظام حجز مواعيد للاستلام والتسليم
- **تقويم متاح**: عرض المواعيد المتاحة حسب المسار
- **إدارة المواعيد**: إدارة شاملة للمواعيد من لوحة الإدارة

### 🔐 نظام التخويل
- **تخويل الطرود**: إمكانية تخويل استلام الطرود لشخص آخر
- **مستخدمون مفوضون**: دعم للمستخدمين المسجلين والضيوف
- **رموز التخويل**: نظام رموز آمن للتخويل
- **انتهاء الصلاحية**: نظام انتهاء صلاحية للتخويلات

### 📱 التكامل مع Telegram
- **بوت Telegram**: تكامل مع بوت Telegram لإرسال OTP
- **تحقق عبر Telegram**: إمكانية التحقق من الهوية عبر Telegram
- **إشعارات فورية**: إرسال إشعارات عبر Telegram

### 🌍 دعم متعدد اللغات
- **العربية والإنجليزية**: دعم كامل للغتين
- **ترجمة شاملة**: ترجمة جميع الرسائل والواجهات
- **واجهة محلية**: تجربة مستخدم محلية

### 📊 لوحة الإدارة المتقدمة
- **Filament Admin Panel**: لوحة إدارة حديثة وسهلة الاستخدام
- **إحصائيات شاملة**: عرض إحصائيات مفصلة للطرود والمستخدمين
- **إدارة شاملة**: إدارة جميع جوانب النظام
- **تصدير البيانات**: إمكانية تصدير التقارير

### ⭐ نظام التقييم
- **تقييم الخدمة**: تقييم الخدمة والموظفين والفروع
- **تعليقات المستخدمين**: نظام تعليقات متقدم
- **تقييمات متعددة**: تقييم التطبيق والخدمة والتسليم

### 🚛 إدارة الشحن
- **إدارة الشاحنات**: تتبع الشاحنات والسائقين
- **تعيين الطرود**: ربط الطرود بالشحنات
- **تتبع التسليم**: تتبع عملية التسليم والاستلام

## 🛠️ التقنيات المستخدمة

### Backend
- **Laravel 12**: إطار عمل PHP حديث
- **Laravel Passport**: نظام المصادقة API
- **Spatie Laravel Permission**: إدارة الأدوار والصلاحيات
- **Laravel Reverb**: WebSockets للاتصال المباشر

### Frontend & Admin Panel
- **Filament 3.3**: لوحة إدارة حديثة
- **Tailwind CSS 4.0**: تصميم متجاوب
- **Vite**: أداة البناء السريعة
- **Livewire**: مكونات تفاعلية

### Database
- **MySQL**: قاعدة البيانات الرئيسية
- **Eloquent ORM**: نظام ORM متقدم

### Additional Packages
- **dotswan/filament-map-picker**: اختيار المواقع على الخريطة
- **ysfkaya/filament-phone-input**: إدخال أرقام الهواتف المحسنة

## 📋 متطلبات النظام

- PHP >= 8.2
- Composer
- Node.js & NPM
- MySQL 8.0+
- Laravel 12
- Git

## 🚀 التثبيت والإعداد

### 1. استنساخ المشروع
```bash
git clone [repository-url]
cd rma-gradioation-project
```

### 2. تثبيت التبعيات
```bash
# Backend dependencies
composer install

# Frontend dependencies
npm install
```

### 3. إعداد البيئة
```bash
# نسخ ملف البيئة
cp .env.example .env

# توليد مفتاح التطبيق
php artisan key:generate

# إعداد قاعدة البيانات في .env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=rma_gradioation
DB_USERNAME=your_username
DB_PASSWORD=your_password
```

### 4. إعداد قاعدة البيانات
```bash
# تشغيل الهجرات
php artisan migrate

# تشغيل البذور
php artisan db:seed

# إنشاء مفتاح Passport
php artisan passport:install
```

### 5. إعداد التخزين
```bash
# إنشاء رابط التخزين
php artisan storage:link
```

### 6. بناء الأصول
```bash
# بناء الأصول للإنتاج
npm run build

# أو للتطوير
npm run dev
```

### 7. تشغيل الخادم
```bash
# تشغيل خادم Laravel
php artisan serve

# تشغيل Vite للتطوير
npm run dev
```

## 🔧 إعدادات إضافية

### إعداد Telegram Bot
```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
```

### إعداد البريد الإلكتروني
```env
MAIL_MAILER=smtp
MAIL_HOST=your_smtp_host
MAIL_PORT=587
MAIL_USERNAME=your_email
MAIL_PASSWORD=your_password
MAIL_ENCRYPTION=tls
```

## 📚 استخدام النظام

### للمستخدمين العاديين
1. **التسجيل**: إنشاء حساب جديد أو استخدام حساب ضيف
2. **إنشاء طرد**: إدخال تفاصيل الطرد والمرسل والمستلم
3. **تتبع الطرد**: متابعة حالة الطرد عبر رقم التتبع
4. **حجز موعد**: حجز موعد للاستلام أو التسليم
5. **تخويل الطرد**: إمكانية تخويل استلام الطرد لشخص آخر

### للمديرين
1. **لوحة الإدارة**: الوصول إلى `/admin`
2. **إدارة الطرود**: عرض وتعديل جميع الطرود
3. **إدارة المستخدمين**: إدارة حسابات المستخدمين
4. **إدارة الفروع**: إضافة وتعديل الفروع والمسارات
5. **التقارير**: عرض الإحصائيات والتقارير

## 🔌 API Endpoints

### المصادقة
- `POST /api/v1/register` - تسجيل مستخدم جديد
- `POST /api/v1/login` - تسجيل الدخول
- `POST /api/v1/logout` - تسجيل الخروج
- `GET /api/v1/me` - بيانات المستخدم الحالي

### الطرود
- `GET /api/v1/parcel` - قائمة الطرود
- `POST /api/v1/parcel` - إنشاء طرد جديد
- `GET /api/v1/parcel/{id}` - تفاصيل طرد
- `PUT /api/v1/parcel/{id}` - تحديث طرد
- `DELETE /api/v1/parcel/{id}` - حذف طرد

### التخويل
- `GET /api/v1/authorization` - قائمة التخويلات
- `POST /api/v1/authorization` - إنشاء تخويل
- `POST /api/v1/authorization/use/{id}` - استخدام تخويل

### المواعيد
- `GET /api/v1/get-getCalender/{tracking_number}` - المواعيد المتاحة
- `POST /api/v1/book-appointment` - حجز موعد

## 🗂️ هيكل المشروع

```
app/
├── Enums/                 # التعدادات (Enums)
├── Events/               # الأحداث
├── Filament/             # لوحة الإدارة
│   ├── Forms/           # نماذج Filament
│   ├── Resources/       # موارد Filament
│   ├── Tables/          # جداول Filament
│   └── Widgets/         # أدوات Filament
├── Http/
│   ├── Controllers/     # المتحكمات
│   ├── Middleware/      # الوسطاء
│   └── Requests/        # طلبات التحقق
├── Models/              # النماذج
├── Notifications/       # الإشعارات
├── Observers/           # المراقبين
├── Policies/            # السياسات
├── Services/            # الخدمات
└── Trait/              # السمات
```

## 🔒 الأمان

- **مصادقة آمنة**: Laravel Passport مع OAuth2
- **تشفير البيانات**: تشفير كلمات المرور والبيانات الحساسة
- **التحقق من الصلاحيات**: نظام أدوار وصلاحيات متقدم
- **حماية CSRF**: حماية من هجمات CSRF
- **Rate Limiting**: تحديد معدل الطلبات
- **تحقق من البيانات**: تحقق شامل من جميع المدخلات

## 📱 دعم الأجهزة المحمولة

- **تصميم متجاوب**: يعمل على جميع أحجام الشاشات
- **PWA Ready**: جاهز لتطبيق ويب تقدمي
- **واجهة محسنة**: واجهة محسنة للأجهزة المحمولة

## 🌐 الدعم الدولي

- **RTL Support**: دعم الكتابة من اليمين لليسار
- **توقيت محلي**: دعم المناطق الزمنية المختلفة
- **عملات متعددة**: دعم عملات مختلفة (قابل للتوسع)

## 🧪 الاختبار

```bash
# تشغيل الاختبارات
php artisan test

# اختبارات الوحدة
php artisan test --testsuite=Unit

# اختبارات الميزات
php artisan test --testsuite=Feature
```

## 📈 الأداء

- **تخزين مؤقت**: نظام تخزين مؤقت متقدم
- **تحسين الاستعلامات**: استعلامات محسنة لقاعدة البيانات
- **ضغط الأصول**: ضغط CSS و JavaScript
- **CDN Ready**: جاهز لاستخدام CDN

## 🔄 التحديثات والصيانة

- **تحديثات تلقائية**: نظام تحديثات آمن
- **نسخ احتياطية**: نظام نسخ احتياطية تلقائي
- **مراقبة الأداء**: مراقبة أداء النظام
- **سجلات مفصلة**: نظام سجلات شامل

## 📞 الدعم والمساعدة

للحصول على الدعم أو الإبلاغ عن مشاكل:

1. **Issues**: استخدم نظام Issues في GitHub
2. **Documentation**: راجع الوثائق التفصيلية
3. **Community**: انضم إلى مجتمع المطورين

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف `LICENSE` للتفاصيل.

## 🤝 المساهمة

نرحب بالمساهمات! يرجى اتباع الخطوات التالية:

1. Fork المشروع
2. إنشاء فرع للميزة الجديدة
3. Commit التغييرات
4. Push إلى الفرع
5. فتح Pull Request

## 📊 الإحصائيات

- **الطرود**: إدارة شاملة للطرود
- **المستخدمين**: دعم آلاف المستخدمين
- **الفروع**: إدارة فروع متعددة
- **المسارات**: شبكة شحن شاملة

---

**تم تطوير هذا النظام بعناية فائقة لضمان أفضل تجربة مستخدم وأعلى معايير الأمان والأداء.**
